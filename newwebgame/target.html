<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Target Shooter</title>
<style>
    body { margin: 0; background: #222; overflow: hidden; }
    canvas { display: block; margin: auto; background: #444; }
    #home-btn {
        position: absolute; top: 10px; left: 10px;
        padding: 8px 12px; font-size: 16px;
        background: yellow; border: none; cursor: pointer;
        border-radius: 5px;
    }
    #score {
        position: absolute; top: 10px; right: 10px;
        color: white; font-size: 20px;
    }
</style>
</head>
<body>
<button id="home-btn">Home</button>
<div id="score">Score: 0</div>
<canvas id="gameCanvas" width="600" height="400"></canvas>
<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
let targets = [];
let score = 0;

function drawTargets() {
    ctx.fillStyle = "red";
    targets.forEach(t => ctx.beginPath() || ctx.arc(t.x, t.y, t.r, 0, Math.PI * 2) || ctx.fill());
}

function updateTargets() {
    targets.forEach(t => t.x += t.dx);
    targets = targets.filter(t => t.x < canvas.width + 20);
    if (Math.random() < 0.02) {
        targets.push({ x: -20, y: Math.random() * 380, r: 15, dx: 2 });
    }
}

canvas.addEventListener("click", e => {
    let rect = canvas.getBoundingClientRect();
    let mx = e.clientX - rect.left;
    let my = e.clientY - rect.top;
    targets = targets.filter(t => {
        let hit = Math.hypot(mx - t.x, my - t.y) < t.r;
        if (hit) {
            score++;
            document.getElementById("score").textContent = "Score: " + score;
        }
        return !hit;
    });
});

function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawTargets();
    updateTargets();
    requestAnimationFrame(gameLoop);
}

document.getElementById("home-btn").onclick = () => window.close();
gameLoop();
</script>
</body>
</html>
